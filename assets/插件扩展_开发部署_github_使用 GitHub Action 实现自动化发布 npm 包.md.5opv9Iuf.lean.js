import{ak as s,h as a,aE as e,f as p}from"./chunks/framework.Dig6RImq.js";const i="/noteplus-dist/assets/image-20241119151711151.HBycm-nA.png",l="/noteplus-dist/assets/image-20241119151727421.BgQAVUnz.png",c="/noteplus-dist/assets/image-20241119151752225.DKg7psW5.png",o="/noteplus-dist/assets/image-20241119151925884.Dqs4rBRY.png",t="/noteplus-dist/assets/image-20241119151953653.wN8MNU6-.png",k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"æ’ä»¶æ‰©å±•/å¼€å‘éƒ¨ç½²/github/ä½¿ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ npm åŒ….md","filePath":"æ’ä»¶æ‰©å±•/å¼€å‘éƒ¨ç½²/github/ä½¿ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ npm åŒ….md","lastUpdated":1732344648000}'),d={name:"æ’ä»¶æ‰©å±•/å¼€å‘éƒ¨ç½²/github/ä½¿ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ npm åŒ….md"};function r(m,n,u,h,b,g){return p(),a("div",null,n[0]||(n[0]=[e(`<h2 id="ä½¿ç”¨-github-action-å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ-npm-åŒ…" tabindex="-1">ä½¿ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ npm åŒ… <a class="header-anchor" href="#ä½¿ç”¨-github-action-å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ-npm-åŒ…" aria-label="Permalink to &quot;ä½¿ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ npm åŒ…&quot;">â€‹</a></h2><p>åœ¨å¼€å‘ <code>JavaScript</code> åº”ç”¨ç¨‹åºæˆ–åº“æ—¶ï¼Œå‘å¸ƒåˆ° <code>npm</code> ä¸Šæ˜¯ä¸€ç§å¸¸è§çš„æ–¹å¼æ¥åˆ†äº«å’Œåˆ†å‘ä½ çš„ä»£ç ã€‚æ‰‹åŠ¨å‘å¸ƒ <code>npm</code> åŒ…å¯èƒ½ä¼šå˜å¾—ç¹çå’Œå®¹æ˜“å‡ºé”™ï¼Œå› æ­¤è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚</p><p><code>GitHub Actions</code> æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ <code>npm</code> åŒ…çš„æµç¨‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ <code>GitHub Action</code> å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ <code>npm</code> åŒ…çš„æ­¥éª¤ã€‚</p><h3 id="å‡†å¤‡å·¥ä½œ" tabindex="-1">å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ" aria-label="Permalink to &quot;å‡†å¤‡å·¥ä½œ&quot;">â€‹</a></h3><ol><li>ç¡®ä¿ä½ æœ‰ä¸€ä¸ª <a href="https://www.npmjs.com/" target="_blank" rel="noreferrer"><code>npm</code> è´¦å·</a>ï¼Œå¹¶ä¸”å·²ç»ç™»å½•åˆ° <code>npm</code>ã€‚</li><li>åˆ›å»ºä¸€ä¸ª <code>GitHub</code> ä»“åº“ç”¨äºå­˜å‚¨ä½ çš„ <code>npm</code> åŒ…çš„ä»£ç ã€‚</li></ol><h3 id="è®¾ç½®-github-action" tabindex="-1">è®¾ç½® GitHub Action <a class="header-anchor" href="#è®¾ç½®-github-action" aria-label="Permalink to &quot;è®¾ç½® GitHub Action&quot;">â€‹</a></h3><ol><li>åœ¨ä½ çš„ GitHub ä»“åº“ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>.github/workflows/npm-publish.yml</code> çš„æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨ GitHub Action çš„é…ç½®ã€‚</li><li>åœ¨ <code>npm-publish.yml</code> ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>name: Publish to npm</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  push:</span></span>
<span class="line"><span>    branches:</span></span>
<span class="line"><span>      # è§¦å‘ci/cdçš„ä»£ç åˆ†æ”¯</span></span>
<span class="line"><span>      - master</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  build:</span></span>
<span class="line"><span>    # æŒ‡å®šæ“ä½œç³»ç»Ÿ</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      # å°†ä»£ç æ‹‰åˆ°è™šæ‹Ÿæœº</span></span>
<span class="line"><span>      - name: è·å–æºç  ğŸ›ï¸</span></span>
<span class="line"><span>        uses: actions/checkout@v2</span></span>
<span class="line"><span>      # æŒ‡å®šnodeç‰ˆæœ¬</span></span>
<span class="line"><span>      - name: Nodeç¯å¢ƒç‰ˆæœ¬ ğŸ—œï¸</span></span>
<span class="line"><span>        uses: actions/setup-node@v3</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          node-version: 18</span></span>
<span class="line"><span>          registry-url: &#39;https://registry.npmjs.org&#39;</span></span>
<span class="line"><span>      # ä¾èµ–ç¼“å­˜ç­–ç•¥</span></span>
<span class="line"><span>      - name: Npmç¼“å­˜ ğŸ“</span></span>
<span class="line"><span>        id: cache-dependencies</span></span>
<span class="line"><span>        uses: actions/cache@v3</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          path: |</span></span>
<span class="line"><span>            **/node_modules</span></span>
<span class="line"><span>          key: \${{runner.OS}}-\${{hashFiles(&#39;**/package-lock.json&#39;)}}</span></span>
<span class="line"><span>      # ä¾èµ–ä¸‹è½½</span></span>
<span class="line"><span>      - name: å®‰è£…ä¾èµ– ğŸ“¦</span></span>
<span class="line"><span>        if: steps.cache-dependencies.outputs.cache-hit != &#39;true&#39;</span></span>
<span class="line"><span>        run: npm install</span></span>
<span class="line"><span>      # æ‰“åŒ…</span></span>
<span class="line"><span>      - name: æ‰“åŒ… ğŸ—ï¸</span></span>
<span class="line"><span>        run: npm run build</span></span>
<span class="line"><span>      # æµ‹è¯•</span></span>
<span class="line"><span>      - name: æµ‹è¯• ğŸ’£</span></span>
<span class="line"><span>        run: npm run test</span></span>
<span class="line"><span>      # å‘å¸ƒ</span></span>
<span class="line"><span>      - name: å‘å¸ƒ ğŸš€</span></span>
<span class="line"><span>        run: npm publish</span></span>
<span class="line"><span>        env:</span></span>
<span class="line"><span>          NPM_TOKEN: \${{ secrets.NPM_TOKEN }}</span></span></code></pre></div><h3 id="ç”³è¯·-npm-è®¿é—®ä»¤ç‰Œ" tabindex="-1">ç”³è¯· npm è®¿é—®ä»¤ç‰Œ <a class="header-anchor" href="#ç”³è¯·-npm-è®¿é—®ä»¤ç‰Œ" aria-label="Permalink to &quot;ç”³è¯· npm è®¿é—®ä»¤ç‰Œ&quot;">â€‹</a></h3><ol><li>ç™»å½• <code>npm</code> å®˜ç½‘ï¼Œç™»å½•æˆåŠŸåï¼Œç‚¹å¼€å³ä¸Šè§’å¤´åƒï¼Œå¹¶ç‚¹å‡» <code>Access Tokens</code> é€‰é¡¹ã€‚</li></ol><p><img src="`+i+'" alt="image-20241119151711151"></p><ol><li>ç‚¹å¼€ <code>Generate New Token</code> ä¸‹æ‹‰æ¡†ï¼Œç‚¹å‡» <code>Classic Token</code> é€‰é¡¹ã€‚</li></ol><p><img src="'+l+'" alt="image-20241119151727421"></p><ol><li>åˆ›å»ºä¸€ä¸ªåç§°ä¸º <code>GITHUB_PUBLISH_TOKEN</code> çš„ä»¤ç‰Œï¼Œå¹¶é€‰æ‹© <code>publish å‘å¸ƒ</code>æƒé™ã€‚</li></ol><p><img src="'+c+'" alt="image-20241119151752225"></p><ol><li>å¤åˆ¶æ–°ç”Ÿæˆçš„è®¿é—®ä»¤ç‰Œã€‚</li></ol><h3 id="é…ç½®-npm-è®¿é—®ä»¤ç‰Œ" tabindex="-1">é…ç½® npm è®¿é—®ä»¤ç‰Œ <a class="header-anchor" href="#é…ç½®-npm-è®¿é—®ä»¤ç‰Œ" aria-label="Permalink to &quot;é…ç½® npm è®¿é—®ä»¤ç‰Œ&quot;">â€‹</a></h3><ol><li>è¿›å…¥é¡¹ç›®ä»“åº“ï¼Œç‚¹å‡»ä»“åº“tabé€‰é¡¹å¡çš„ <code>Settings</code> ï¼Œç‚¹å¼€ <code>Secrets and variables</code> é€‰é¡¹å¡ï¼Œç‚¹å‡» <code>Actions</code> é€‰é¡¹ï¼Œç‚¹å‡»å¯¹åº”é¡µé¢çš„ <code>&quot;New repository secret&quot;</code> æŒ‰é’®ã€‚</li></ol><p><img src="'+o+'" alt="image-20241119151925884"></p><ol><li>æ–°å»ºåç§°ä¸º <code>NPM_TOKEN</code>çš„ <code>secret</code>, å¹¶å°†åˆšåˆšç”³è¯·åˆ°çš„<code>GITHUB_PUBLISH_TOKEN</code>å¡«å…¥ <code>secret</code> å­—æ®µã€‚</li></ol><p><img src="'+t+'" alt="image-20241119151953653"></p><h3 id="å‘å¸ƒ-npm-åŒ…" tabindex="-1">å‘å¸ƒ npm åŒ… <a class="header-anchor" href="#å‘å¸ƒ-npm-åŒ…" aria-label="Permalink to &quot;å‘å¸ƒ npm åŒ…&quot;">â€‹</a></h3><ol><li>åœ¨ä½ çš„ä»£ç ä¸­åšä»»ä½•æ›´æ”¹ã€‚</li><li>æäº¤è¿™äº›æ›´æ”¹å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Release</code> ã€‚</li><li><code>GitHub Action</code> å°†è‡ªåŠ¨è§¦å‘å¹¶è‡ªåŠ¨æ„å»ºã€æµ‹è¯•å’Œå‘å¸ƒä½ çš„ <code>npm</code> åŒ…ã€‚</li></ol><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å·²ç»æˆåŠŸåœ°è®¾ç½®äº† <code>GitHub Action</code> æ¥å®ç°è‡ªåŠ¨åŒ–å‘å¸ƒ <code>npm</code> åŒ…çš„æµç¨‹ã€‚ç°åœ¨ï¼Œæ¯å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Release</code>ï¼Œä½ çš„ä»£ç å°†è‡ªåŠ¨å‘å¸ƒåˆ° <code>npm</code> ä¸Šï¼Œè®©ä½ çš„å¼€å‘æµç¨‹æ›´åŠ é«˜æ•ˆå’Œæ–¹ä¾¿ã€‚</p>',24)]))}const H=s(d,[["render",r]]);export{k as __pageData,H as default};
